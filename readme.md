# autoContents 使用教程

## 项目概述

autoContents 是一款专为扫描版 PDF 设计的书签**全自动**生成工具，能够基于目录页内容创建可跳转书签。如果想先看看该工具的实际表现情况，请点击这里。

该工具支持单栏、双栏及混合排版的目录结构，适用于目录页数不超过 10 页且扫描质量合格（页面倾斜度 ≤2 度、文字清晰度满足 OCR 识别要求）的 PDF 文档。若目录包含“子节”即`x.x.x`级别的标题，目录页数限制可放宽至 20 页。

![目录结构及适用范围说明](./docs/目录结构及适用范围说明.svg)

## Step 1 下载程序

- 如果你知道`git clone`命令，请将仓库克隆到本地。
- 如果你不知道`git clone`命令，请点击页面上的绿色按钮`Code`，然后点击`Download ZIP`以下载程序源码。

## Step 2 配置环境

### 2.1 申请云服务 API-KEY

在 95% 以上的测试样本中，阿里云能够提供稳定且优质的服务，足以满足大多数需求。因此建议优先完成阿里云相关服务的申请。仅在生成结果严重低于预期时，再考虑使用 Azure 及 DeepSeek 作为补充方案。申请教程请[点击这里](./docs/如何申请云服务账户.md)。

### 2.2 配置基本开发环境

- 如果是 Windows 用户，请右键点击`setup_documents`文件夹中的`[Windows]install.bat`，选择“以管理员身份运行”，然后等待脚本运行完成。
- 如果是 macOS 用户，请双击打开`setup_documents`文件夹中的`[macOS]install.sh`，然后等待脚本运行完成。运行过程中可能需要输入密码，注意输入的密码不会显示在屏幕上，输入完成后按return即可。

### 2.3 配置 API-KEY

- 如果是 Windows 用户，请双击打开`setup_documents`文件夹中的`[Windows]setup_api_keys.bat`，并按要求配置。
- 如果是 macOS 用户，请双击打开`setup_documents`文件夹中的`[macOS]setup_api_keys.sh`，并按要求配置。

## Step 3 使用方法

### 3.1 运行程序

1. 若左侧无项目文件列表，请点击左上角的“资源管理器”（左侧竖列第一个，类似文件的标志）按钮来把它打开。
2. 点击项目文件列表中的`app.py`，然后点击右上角的`运行 Python 文件`（三角播放符号）。
3. 查看命令行，并在按下`Ctrl/Cmd`后，鼠标左键点击`http://127.0.0.1:5xxx`以在浏览器中打开主界面。

### 3.2 上传 PDF 并处理

1. 点击“选择PDF文件”，然后选择需要处理的 PDF 文件。
2. 填写 PDF 数据：目录起始页指的是目录的第一页是 PDF 文件的第几页；目录结束页指的是目录的最后一页是 PDF 文件的第几页；正文起始页指的是正文的第一页是 PDF 文件的第几页。
3. 点击“开始执行”，等待进度条走完，浏览器会自动下载带有书签的 PDF 文件。
