# 问题排查方案

## 环境配置常见问题

1. 在 Windows 系统中，如果运行`windows_install.bat`时出现闪退现象，请检查当前用户是否具有管理员权限。
2. 在 Windows 系统中，如果运行`windows_install.bat`时出现提示`系统找不到指定的路径`，请将文件夹移动到不含有中文等特殊字符的目录，然后再试一次。

## 程序运行常见问题

### 第一步：定位问题出现位置

注：如果运行时直接提示某一步出错，那么请跳转到第二步。

1. 进入项目目录`data`文件夹中查看处理记录。每个处理记录文件夹下的`input_pdf`文件夹存储了原始 PDF 文件，可以通过这种方式找到对应的处理记录。
2. 根据[数据关系传递](./数据关系传递.svg)对应到出错的具体步骤。具体来说，如果某一步的输入文件夹有文件，但输出文件夹为空，则问题出在该步骤。

### 第二步：故障脚本单元测试

1. 如果问题出现在`ocr_aliyun.py`步骤，请运行`tools`文件夹下的`aliyun_ocr_test.bat`，运行完成后打开该目录下的错误记录文件（例如`error_20250127.txt`，并按照文件中的提示进行操作。如果看不懂这个文件在说什么，请询问 DeepSeek 以寻求进一步指导。
2. 如果问题出现在其他步骤，请按照如下流程进行操作：
    1. 将出错的流程的缓存目录（例如`20250127005824_d615qw`）的全部子目录移动到`data`文件夹下；
    2. Win + R 打开`cmd`，依次运行如下命令：
        ```cmd
        cd [项目根目录，例如 C:\Users\Administrator\Desktop\autoContents]
        call .venv\Scripts\activate.bat
        python mainprogress\[出错步骤脚本，例如 mark_colour.py]
        ```
    3. 观察输出结果。

注：若该方法中的某一步看不懂，请询问 DeepSeek 以寻求进一步指导；若确定问题所在位置但无法解决，请联系邮箱`uijm2004@outlook.com`或提出 Issue 以获取协助。